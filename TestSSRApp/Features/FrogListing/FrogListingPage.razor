@page "/"

@using TestSSRApp.Features.FrogListing.Components
@inject IMediator Mediator;

<div class="grid grid-cols-3 gap-4 h-full px-16 py-8">
    @foreach (var frog in _frogs)
    {
        <FrogTile FrogName="@frog.Name"></FrogTile>
    }
</div>

<FrogsAreCool></FrogsAreCool>

@code {
    GetFrogs.Frog[] _frogs = [];

    protected override async Task OnInitializedAsync()
    {
        await GetFrogsFromServer();
    }

    private async Task GetFrogsFromServer()
    {
        _frogs = await Mediator.Send(new GetFrogs.Request());
    }
}